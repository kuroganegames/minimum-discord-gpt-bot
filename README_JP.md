## minimum-discord-gpt-bot

これはガチでシンプルなDiscord用ChatGPT風botです。

**コマンド(以下)**によって対話できます。

**小規模なコミュニティ**のための最小限のコードです。

複数同時入力や、高度なログ機能(langchainなど)はサポートしません。

大規模なコミュニティで使用する場合、問題を引き起こす可能性があります。

 **GPT-4** と **GPT-3.5-turbo** をサポートしています(GPT-4のアクセス権がない場合、$4コマンドを入れても動きません。

もちろん、**あなた自身のAPIキーを取得する必要**があります。

ログは**4チャット**または**3200文字**(トークン数ではない)のみです(コードをいじれば変更できます)。

 ログは全く処理されずに保存されます。5個以上の古いログは削除されます。

その代わり、pythonがインストールされた**あなたのPC**上で簡単にボットを実行することができます。サーバーを借りる必要はありません。

このコードは、openAIとDiscordのAPIにアクセスするだけで、**重い処理をすることはありません**。

重いゲームをやるときに便利わよ。

## 要件

- Python 3.8以上
- `discord.py`
- `openai`
- GPT-3.5-turbo、GPT-4用OpenAI APIキー

## インストール

1. 必要なパッケージをインストールします

```
pip install -U discord.py
pip install openai
```

[discord.py - PyPI](https://pypi.org/project/discord.py/)
[ライブラリ - OpenAI API](https://platform.openai.com/docs/libraries)

1. APIキーを設定します：

プロジェクトディレクトリに`token`というファイルを作成し、Discordのbot tokenを貼り付けます。

プロジェクトディレクトリに `key` というファイルを作成し、OpenAI API キーを貼り付けます。

## 使用方法

チャットボットを起動するには、`chatbot_v_main.bat`ファイルを実行するか、以下のコマンドを実行してください：

```
python main.py
```

## コマンド

- `$ [text]`： GPT-3.5-turboモデルで応答を生成します。
- $35 [メッセージ]`： GPT-3.5-turboモデルを使用して応答を生成します。
- 4ドル [メッセージ]`： GPT-4 モデルを使用して応答を生成します。
- L [メッセージ]`： 今までのログを無視して、GPT-3.5-turbo モデルを使用して応答を生成します。
- `$show`： 最近のメッセージのログを表示します。
- `$del [index]`： インデックスを指定してログを削除する。

## コンポーネント

- `chatbot_v_main.bat`： チャットボットを起動するためのbatchスクリプト。
- `main.py`： チャットボットの初期化と実行を行うメインスクリプトです。
- `log_manager.py`： ログを管理するためのユーティリティクラスです。
- `utils.py`： テキストクリーニングのためのユーティリティスクリプトです。
- `discord_bot.py`： Discordボットとそのイベントを処理するメインチャットボットクラスです。

## ノート

このプロジェクトでは、GPT-4およびGPT-3.5-turboモデルを使用していますが、これらは無料で使用することはできません。
OpenAIのAPIでこれらのモデルにアクセスできることを確認してください。

## ライセンス

このプロジェクトは、MITライセンスの下でライセンスされています。
